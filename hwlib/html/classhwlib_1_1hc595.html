<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hwlib: hwlib::hc595 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="hwlib_icon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hwlib
   </div>
   <div id="projectbrief">C++ OO-style close-to-the-hardware library</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classhwlib_1_1hc595.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classhwlib_1_1hc595-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hwlib::hc595 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="hwlib-hc595_8hpp_source.html">hwlib-hc595.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for hwlib::hc595:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classhwlib_1_1hc595.png" usemap="#hwlib::hc595_map" alt=""/>
  <map id="hwlib::hc595_map" name="hwlib::hc595_map">
<area href="classhwlib_1_1port__out.html" alt="hwlib::port_out" shape="rect" coords="0,0,93,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a293236ae5bd14fa376d8b540324f07c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a293236ae5bd14fa376d8b540324f07c0">hc595</a> (<a class="el" href="classhwlib_1_1spi__bus.html">spi_bus</a> &amp;bus, <a class="el" href="classhwlib_1_1pin__out.html">pin_out</a> &amp;sel)</td></tr>
<tr class="separator:a293236ae5bd14fa376d8b540324f07c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89c7b21cb99d61c91f764a0fdb7ceb9b"><td class="memItemLeft" align="right" valign="top">uint_fast8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a89c7b21cb99d61c91f764a0fdb7ceb9b">number_of_pins</a> () override</td></tr>
<tr class="separator:a89c7b21cb99d61c91f764a0fdb7ceb9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cc052f6de8be418a6a3cb69919fd168"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a5cc052f6de8be418a6a3cb69919fd168">write</a> (uint_fast16_t x) override</td></tr>
<tr class="separator:a5cc052f6de8be418a6a3cb69919fd168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89801264883c79926fd9f0983662e50a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a89801264883c79926fd9f0983662e50a">flush</a> () override</td></tr>
<tr class="separator:a89801264883c79926fd9f0983662e50a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a5e124516aa762629f95c7ab63e0b3d18"><td class="memItemLeft" align="right" valign="top">one_pin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a5e124516aa762629f95c7ab63e0b3d18">p0</a> { *this, 0 }</td></tr>
<tr class="separator:a5e124516aa762629f95c7ab63e0b3d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f83cce5a65436a22b18a9eae016535c"><td class="memItemLeft" align="right" valign="top">one_pin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a2f83cce5a65436a22b18a9eae016535c">p1</a> { *this, 1 }</td></tr>
<tr class="separator:a2f83cce5a65436a22b18a9eae016535c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcdcdb111610864066f7dcb601473c26"><td class="memItemLeft" align="right" valign="top">one_pin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#abcdcdb111610864066f7dcb601473c26">p2</a> { *this, 2 }</td></tr>
<tr class="separator:abcdcdb111610864066f7dcb601473c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2958a2516802e2d6010f53c26802bd"><td class="memItemLeft" align="right" valign="top">one_pin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a1e2958a2516802e2d6010f53c26802bd">p3</a> { *this, 3 }</td></tr>
<tr class="separator:a1e2958a2516802e2d6010f53c26802bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b7be902f6bcaeccc77eaac57836131"><td class="memItemLeft" align="right" valign="top">one_pin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#ac0b7be902f6bcaeccc77eaac57836131">p4</a> { *this, 4 }</td></tr>
<tr class="separator:ac0b7be902f6bcaeccc77eaac57836131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a071e5983d048d42902099cd432b11cae"><td class="memItemLeft" align="right" valign="top">one_pin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a071e5983d048d42902099cd432b11cae">p5</a> { *this, 5 }</td></tr>
<tr class="separator:a071e5983d048d42902099cd432b11cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e6cc70a4cb74a6a00f7d65f41744646"><td class="memItemLeft" align="right" valign="top">one_pin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a0e6cc70a4cb74a6a00f7d65f41744646">p6</a> { *this, 6 }</td></tr>
<tr class="separator:a0e6cc70a4cb74a6a00f7d65f41744646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28075ecea47020c790ea098e32ab0b5f"><td class="memItemLeft" align="right" valign="top">one_pin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a28075ecea47020c790ea098e32ab0b5f">p7</a> { *this, 7 }</td></tr>
<tr class="separator:a28075ecea47020c790ea098e32ab0b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classhwlib_1_1hc595.html">hc595</a> 8-bit output shift register</p>
<p>This class implements an interface to an <a class="el" href="classhwlib_1_1hc595.html">hc595</a> 8-bit output shift register chip.</p>
<div class="image">
<img src="hc595-pinout.png" alt="hc595-pinout.png"/>
</div>
<p>The <a class="el" href="classhwlib_1_1hc595.html">hc595</a> is an 8-bit serial-in parallel-out shift register, connected to an 8-bit data storage register. The 8 outputs of the data register are available on chip pins. The power supply range is 2.0 .. 6.0 Volt.</p>
<div class="image">
<img src="hc595-diagram.png" alt="hc595-diagram.png"/>
</div>
<p>The HC595 can be used as SPI output-only peripheral:</p><ul>
<li>connect MR (active-low reset input) to the power</li>
<li>connect OE (active-low output enable) to gound</li>
<li>use DS as MOSI</li>
<li>use SHCP as SLCK</li>
<li>use STCP as SS</li>
</ul>
<p>Note that STCP is not a real chip-select: the chip will always respond to the data that is clocked by storing it in the shift register. But only the chip that got the select signal will (on the rising edge of the SS) transfer the data from the shift register to the storage register, hence affecting the outputs.</p>
<p>The next code shows a kitt display on 8 LEDs connected to the HC595 output pins: </p><div class="fragment"></div><!-- fragment --><p> The 74HCT595 is a similar chip, but intended (only) for 5V power, and for use with the old TTL signal levels (HC chips are for the CMOS signal levels that are more common now).</p>
<p>references:</p><ul>
<li><a href="https://www.nxp.com/documents/data_sheet/74HC_HCT595.pdf">74HC595/74HCT595 data sheet</a> (nxp, pdf) </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a293236ae5bd14fa376d8b540324f07c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a293236ae5bd14fa376d8b540324f07c0">&#9670;&nbsp;</a></span>hc595()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">hwlib::hc595::hc595 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classhwlib_1_1spi__bus.html">spi_bus</a> &amp;&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classhwlib_1_1pin__out.html">pin_out</a> &amp;&#160;</td>
          <td class="paramname"><em>sel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>construct an interface to an <a class="el" href="classhwlib_1_1hc595.html">hc595</a> chip</p>
<p>This constructor creates an interface to an <a class="el" href="classhwlib_1_1hc595.html">hc595</a> 8-bit output shift register chip from the SPI bus it is connected to and and the active-low chip select line. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a89801264883c79926fd9f0983662e50a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89801264883c79926fd9f0983662e50a">&#9670;&nbsp;</a></span>flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void hwlib::hc595::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>flush the port buffer</p>
<p>This function flushes the port write buffer: if a buffered value has not yet been written it is written to the pin. When the value has been written, it might be written again.</p>
<p>The pin write buffer might also be flushed as a side-effect of other operations. </p>

<p>Implements <a class="el" href="classhwlib_1_1port__out.html#aff7c8d768ec0b7f3d738a47ef1a4bbfe">hwlib::port_out</a>.</p>

</div>
</div>
<a id="a89c7b21cb99d61c91f764a0fdb7ceb9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89c7b21cb99d61c91f764a0fdb7ceb9b">&#9670;&nbsp;</a></span>number_of_pins()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint_fast8_t hwlib::hc595::number_of_pins </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>get number of pins</p>
<p>This function returns the number of pins in the port. </p>

<p>Implements <a class="el" href="classhwlib_1_1port__out.html#a8593e2ff755b938797defb06c1e085df">hwlib::port_out</a>.</p>

</div>
</div>
<a id="a5cc052f6de8be418a6a3cb69919fd168"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cc052f6de8be418a6a3cb69919fd168">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void hwlib::hc595::write </td>
          <td>(</td>
          <td class="paramtype">uint_fast16_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>

<p>Implements <a class="el" href="classhwlib_1_1port__out.html#a3644bf484ebe059ec5bf17fa43e0c01b">hwlib::port_out</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5e124516aa762629f95c7ab63e0b3d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e124516aa762629f95c7ab63e0b3d18">&#9670;&nbsp;</a></span>p0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">one_pin hwlib::hc595::p0 { *this, 0 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the output pins of the chip</p>
<p>The p0 ... p7 attributes represent the 8 output pins of the chip. A write to one of these pins will affect (only) the corresponding output pin of the chip. </p>

</div>
</div>
<a id="a2f83cce5a65436a22b18a9eae016535c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f83cce5a65436a22b18a9eae016535c">&#9670;&nbsp;</a></span>p1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">one_pin hwlib::hc595::p1 { *this, 1 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the output pins of the chip</p>
<p>The p0 ... p7 attributes represent the 8 output pins of the chip. A write to one of these pins will affect (only) the corresponding output pin of the chip. </p>

</div>
</div>
<a id="abcdcdb111610864066f7dcb601473c26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcdcdb111610864066f7dcb601473c26">&#9670;&nbsp;</a></span>p2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">one_pin hwlib::hc595::p2 { *this, 2 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the output pins of the chip</p>
<p>The p0 ... p7 attributes represent the 8 output pins of the chip. A write to one of these pins will affect (only) the corresponding output pin of the chip. </p>

</div>
</div>
<a id="a1e2958a2516802e2d6010f53c26802bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e2958a2516802e2d6010f53c26802bd">&#9670;&nbsp;</a></span>p3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">one_pin hwlib::hc595::p3 { *this, 3 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the output pins of the chip</p>
<p>The p0 ... p7 attributes represent the 8 output pins of the chip. A write to one of these pins will affect (only) the corresponding output pin of the chip. </p>

</div>
</div>
<a id="ac0b7be902f6bcaeccc77eaac57836131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0b7be902f6bcaeccc77eaac57836131">&#9670;&nbsp;</a></span>p4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">one_pin hwlib::hc595::p4 { *this, 4 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the output pins of the chip</p>
<p>The p0 ... p7 attributes represent the 8 output pins of the chip. A write to one of these pins will affect (only) the corresponding output pin of the chip. </p>

</div>
</div>
<a id="a071e5983d048d42902099cd432b11cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a071e5983d048d42902099cd432b11cae">&#9670;&nbsp;</a></span>p5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">one_pin hwlib::hc595::p5 { *this, 5 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the output pins of the chip</p>
<p>The p0 ... p7 attributes represent the 8 output pins of the chip. A write to one of these pins will affect (only) the corresponding output pin of the chip. </p>

</div>
</div>
<a id="a0e6cc70a4cb74a6a00f7d65f41744646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e6cc70a4cb74a6a00f7d65f41744646">&#9670;&nbsp;</a></span>p6</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">one_pin hwlib::hc595::p6 { *this, 6 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the output pins of the chip</p>
<p>The p0 ... p7 attributes represent the 8 output pins of the chip. A write to one of these pins will affect (only) the corresponding output pin of the chip. </p>

</div>
</div>
<a id="a28075ecea47020c790ea098e32ab0b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28075ecea47020c790ea098e32ab0b5f">&#9670;&nbsp;</a></span>p7</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">one_pin hwlib::hc595::p7 { *this, 7 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the output pins of the chip</p>
<p>The p0 ... p7 attributes represent the 8 output pins of the chip. A write to one of these pins will affect (only) the corresponding output pin of the chip. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="hwlib-hc595_8hpp_source.html">hwlib-hc595.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacehwlib.html">hwlib</a></li><li class="navelem"><a class="el" href="classhwlib_1_1hc595.html">hc595</a></li>
    <li class="footer">Generated on Mon Jul 1 2019 16:24:55 for hwlib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
